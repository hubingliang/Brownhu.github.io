<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Brown Hu</title>
<meta name="description" content="Better late then never" />
<link rel="shortcut icon" href="https://hubingliang.github.io/favicon.ico?v=1569257442742">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link href="https://cdn.remixicon.com/releases/v1.3.1/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.2/animate.min.css">

<link rel="stylesheet" href="https://hubingliang.github.io/styles/main.css">



  </head>
  <body>
    <div id="app" class="main px-4 flex flex-col lg:flex-row">
      <div id="sidebar" class="sidebar-wrapper lg:static lg:w-1/4">
  <div class="lg:sticky top-0">
    <div class="sidebar-content">
      <div class="flex lg:block p-4 lg:px-0 items-center fixed lg:static lg:block top-0 right-0 left-0 bg-white z-50">
        <i class="remixicon-menu-2-line lg:mt-4 text-2xl cursor-pointer animated fadeIn" onclick="openMenu()"></i>
        <a href="https://hubingliang.github.io">
          <img class="animated fadeInLeft avatar rounded-lg mx-4 lg:mt-32 lg:mx-0 mt-0 lg:w-24 lg:h-24 w-12 w-12" src="https://hubingliang.github.io/images/avatar.png?v=1569257442742" alt="">
        </a>
        <h1 class="animated fadeInLeft lg:text-4xl font-extrabold lg:mt-8 mt-0 text-xl" style="animation-delay: 0.2s">Brown Hu</h1>
      </div>
      
        <div class="animated fadeInLeft" style="animation-delay: 0.4s">
          <p class="my-4 text-gray-600 font-light hidden lg:block">
            文章目录
          </p>
          <div class="toc-container hidden lg:block">
            <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#%E6%B3%A8%E5%86%8C%E4%BD%A0%E7%9A%84%E5%BC%80%E5%8F%91%E8%80%85%E5%B8%90%E5%8F%B7%E5%92%8C%E9%85%8D%E7%BD%AE-token">注册你的开发者帐号和配置 token</a></li>
<li><a href="#%E7%94%A8%E8%84%9A%E6%89%8B%E6%9E%B6%E7%94%9F%E6%88%90%E5%9F%BA%E6%9C%AC%E7%9A%84%E6%8F%92%E4%BB%B6%E4%BB%A3%E7%A0%81">用脚手架生成基本的插件代码</a></li>
<li><a href="#%E4%BF%AE%E6%94%B9themes%E4%B8%8B%E7%9A%84json%E6%96%87%E4%BB%B6">修改themes下的json文件</a></li>
<li><a href="#%E9%85%8D%E8%89%B2%E6%96%B9%E6%A1%88">配色方案</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      
    </div>
  </div>
</div>

<div class="menu-container">
  <i class="remixicon-arrow-left-line text-2xl cursor-pointer animated fadeIn close-menu-btn" onclick="closeMenu()"></i>
  <div>
    
      
        <a href="/" class="menu" style="animation-delay: 0s">
          首页
        </a>
      
    
      
        <a href="/archives" class="menu" style="animation-delay: 0.2s">
          归档
        </a>
      
    
      
        <a href="/tags" class="menu" style="animation-delay: 0.4s">
          标签
        </a>
      
    
      
        <a href="/post/about" class="menu" style="animation-delay: 0.6000000000000001s">
          关于
        </a>
      
    
  </div>
  <div class="site-footer">
    <div class="py-4 text-gray-700">C'est la vie</div>
    <a class="rss" href="https://hubingliang.github.io/atom.xml" target="_blank">RSS</a>
  </div>
</div>
<div class="mask" onclick="closeMenu()">
</div>
      <div class="content-wrapper py-32 lg:p-8 lg:w-3/4 post-detail animated fadeIn">
        <h1 class="text-3xl font-bold lg:mt-16">如何打造一款自己的 VSCode 主题？</h1>
        <div class="text-sm text-gray-700 lg:my-8">
          2019-04-18 / 2 min read
        </div>
        
          <img class="post-feature-image rounded-lg mx-auto my-4" src="https://hubingliang.github.io/post-images/vscode-theme.jpeg" alt="">
        
        <div class="post-content yue">
          <blockquote>
<p>本文首发于个人博客</p>
</blockquote>
<p>我之前一直用 <strong>One Dark Pro</strong> 后来又转到 <strong>Material Theme Palenight</strong> 再到后来的 <strong>Dracula</strong> 。总觉得有些配色很奇怪（工作太闲），于是写了一个 VSCode 深色主题：<a href="https://github.com/hubingliang/Duang">Duang</a>，之所以叫Duang是因为它很黑，很亮，很柔....</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/4/18/16a30374038ac5db?w=446&amp;h=315&amp;f=jpeg&amp;s=36465" alt=""></p>
<p><a href="https://marketplace.visualstudio.com/items?itemName=Brownhu.duang">大家可以在这下载体验</a></p>
<p><a href="https://github.com/hubingliang/Duang">github 在这里</a></p>
<p><img src="https://user-gold-cdn.xitu.io/2019/4/18/16a303c83daf3bb6?w=1514&amp;h=450&amp;f=png&amp;s=107690" alt=""></p>
<p><img src="https://user-gold-cdn.xitu.io/2019/4/18/16a3062d5015d575?w=1920&amp;h=1057&amp;f=png&amp;s=327708" alt=""></p>
<p>如果你也对编辑器有自己独特风格的偏好，但是在成千上万款主题中又没有一款主题完全符合你的口味，那么跟着下面的流程我们自己动手做一个完全符合自己风格的主题吧。</p>
<hr>
<h2 id="注册你的开发者帐号和配置-token">注册你的开发者帐号和配置 token</h2>
<p>如果你安装过其他的 VSCode 主题的话应该知道，所有主题都属于 VSCode插件。那么要开发插件，必不可少的工具就是 <a href="https://github.com/Microsoft/vscode-vsce">vsce</a>，这个是官方管理插件的工具，所有插件都通过这个工具来发布。</p>
<p>如果你英文够好，建议看 VSCode 官网的这篇<a href="https://code.visualstudio.com/api/working-with-extensions/publishing-extension">文章</a>来学习从申请账号到发布插件的整个流程，非常详细。当然也可以跟着我后面的流程一起。</p>
<p>首先全局安装 <strong>vsce</strong> :</p>
<pre><code>npm install -g vsce
</code></pre>
<p>之后你需要去注册一个账号，网址在这：<a href="https://azure.microsoft.com/zh-cn/services/devops/">Azure DevOps Services | Microsoft Azure</a></p>
<p>登陆之后，首先新建一个 <strong>public</strong> 项目:</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/4/18/16a2fc45a7e1f7c1?w=627&amp;h=550&amp;f=png&amp;s=40656" alt=""></p>
<p><img src="https://user-gold-cdn.xitu.io/2019/4/18/16a2fbc998050c96?w=1492&amp;h=925&amp;f=png&amp;s=207120" alt=""></p>
<p>然后获取你的 <strong>Personal access tokens</strong> ，点击右上角的头像，点击 <strong>Security</strong>。</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/4/18/16a2fc9eafaf6678?w=233&amp;h=279&amp;f=png&amp;s=13476" alt=""></p>
<p>为你的 <strong>token</strong> 指定一个名称，时间的话最长到期可以设置为一年。</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/4/18/16a2fcf53e722c4a?w=1509&amp;h=1004&amp;f=png&amp;s=192787" alt=""></p>
<p>点击查看所有的配置项，找到 <strong>Marketplace</strong> 并选择 <strong>Acquire</strong> and <strong>Manage</strong>：</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/4/18/16a2fd0406d2c348?w=1510&amp;h=1005&amp;f=png&amp;s=192921" alt=""></p>
<p>点击 <strong>Create</strong> ，复制生成的 <strong>token</strong>，之后就要用到我们刚才安装的 <strong>vsce</strong> 来创建新的发布者（publisher）</p>
<pre><code>vsce create-publisher (发布者的名字)
</code></pre>
<p>回车之后会依次提示输入<strong>name</strong>、<strong>email</strong>，和你刚刚复制的 <strong>token</strong>。</p>
<p>现在你可以通过下面这个命令来登陆:</p>
<pre><code>vsce login (发布者的名字)
</code></pre>
<p>到此为止我们第一步就完成了，不要觉得繁琐，因为这些我们只需要配置一次就好了，每次开发插件的时候都不用重复这些操作。</p>
<p>如果你遇到文中没有提到的问题，我继续建议你看官方这两篇文章</p>
<ul>
<li><a href="https://docs.microsoft.com/zh-cn/azure/devops/organizations/accounts/create-organization?view=azure-devops">创建账号</a></li>
<li><a href="https://code.visualstudio.com/api/working-with-extensions/publishing-extension">发布扩展</a></li>
</ul>
<hr>
<h2 id="用脚手架生成基本的插件代码">用脚手架生成基本的插件代码</h2>
<p>之后我们需要安装一个脚手架工具：</p>
<pre><code>npm install -g yo generator-code
</code></pre>
<p>然后运行下面的命令👇，它可以在任何目录中生成一套基本的插件代码：</p>
<pre><code>yo code
</code></pre>
<p><img src="https://user-gold-cdn.xitu.io/2019/4/18/16a2fe0fab9fb691?w=1060&amp;h=916&amp;f=png&amp;s=258431" alt=""></p>
<p>我们要开发一个主题，所以选中 <strong>New Color Theme</strong>，之后会继续询问你是否新建主题还是从现有主题导入，我们这里选创建一个全新的。</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/4/18/16a2fe3e4302080e?w=2022&amp;h=184&amp;f=png&amp;s=116013" alt=""></p>
<p>之后还会问你一些问题：</p>
<ul>
<li>插件名字</li>
<li>标识符</li>
<li>描述 （这个后面可以在<strong>package.json</strong>里面改）</li>
<li>发布者的名字 (见前文)</li>
<li>对于用户这个插件的名字</li>
<li>这个主题是dark还是light还是高对比度</li>
</ul>
<p>之后就会为我们生成一套主题插件的基本代码，到此为止我们已经完成了80%了，剩下的就只需要更改生成目录 <strong>themes</strong> 下的 <strong>json</strong> 文件就可以了，但是....</p>
<hr>
<h2 id="修改themes下的json文件">修改themes下的json文件</h2>
<p>看似很简单的事情，其实是我认为最难的，因为要设计一款，好看的主题，配色真的太难了！！！</p>
<p>很多我以为会很好看的颜色，改进去却like a shit....</p>
<p>em.....扯远了</p>
<p>首先用 VSCode 打开生成的目录，我们看到结构如下：</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/4/18/16a3009f1663e799?w=4096&amp;h=3072&amp;f=jpeg&amp;s=654365" alt="221555584047_.pic_hd.jpg"></p>
<p>之后我们的工作都会在 <strong>themes</strong> 下的 <strong>json</strong> 文件展开，不要害怕，我们其实不需要看完这几百上千行 json 文件的意思。</p>
<p>首先我们先进去调试模式，看看脚本自动生成的主题是什么样子的：</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/4/18/16a300dbfbd72558?w=2048&amp;h=1536&amp;f=png&amp;s=366435" alt=""></p>
<p>点击调试，会自动打开一个新的 VSCode 窗口展示预设的主题。</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/4/18/16a301018c9aec7d?w=2772&amp;h=1754&amp;f=png&amp;s=633003" alt=""></p>
<p>接下来 <strong>Command + Shift + P</strong> 输入 <strong>Developer: Inspect TM Scopes</strong></p>
<p><img src="https://user-gold-cdn.xitu.io/2019/4/18/16a30132c4f482c7?w=1190&amp;h=1094&amp;f=png&amp;s=165318" alt=""></p>
<p>现在你可以看文件中每一个字符的颜色配置在哪了，只需要在 json 文件里搜对应的配置就好了。</p>
<p>如果你觉得不习惯，你甚至可以打开和 <strong>Chrome</strong> 一样的开发者工具，快捷键是 <strong>option + command + i</strong></p>
<p><img src="https://user-gold-cdn.xitu.io/2019/4/18/16a3015c6f12955f?w=3840&amp;h=2114&amp;f=png&amp;s=2290633" alt=""></p>
<p>不过我还是建议你用第一种方法，因为开发者工具有时候搜到颜色，但是你找不到配置项。</p>
<hr>
<h2 id="配色方案">配色方案</h2>
<p>如果你现在一无所措，改了一些颜色也不尽如人意，那就看下我的配色建议：</p>
<p>首先我的建议是，直接抄你喜欢或者成熟主题对应的 <strong>json</strong>文件，比如 <strong>One Dark Pro</strong> 、<strong>Material Theme Palenight</strong>、<strong>Dracula</strong></p>
<p>之所以这样是因为出于几个考虑：</p>
<ol>
<li>脚手架的配置项并不齐全，比如底部状态栏和侧边栏甚至光标的颜色都没有，而比较成熟下载量多的主题边边角角都配置到了，我们拿过来把对应的颜色全局替换就好了，不用再去官网上找对应的配置项。</li>
<li>并不是每种类型的字符配一种颜色，很多类型是复用同一种颜色的，但是对应关系并不好找，所以如果我们看到一个改一个很容易改的乱七八糟，所以拷贝过来之后每次改颜色，<strong>一定要全局替换，不要只改一个</strong>！！！</li>
<li>因为之前可能有了喜欢的主题，只不过主题之中有一些元素不喜欢而已，这样也会省下很多工作量。</li>
<li>你可以借鉴一些主题的颜色，或者整体风格，由于都在json文件里面，你可以很方便的找到它。</li>
</ol>
<p>那么问题来了，那些主题的 <strong>json</strong> 文件我去哪里找呢？</p>
<p><a href="https://vscodethemes.com/">这里</a>有几乎所有有名的 VSCode 主题，你可以点开看它的 <strong>github</strong> 那里就有它们的 <strong>json</strong> 文件，你可以clone整个项目，也可以单单只复制 <strong>json</strong> 。</p>
<p><strong>注意，不要全部复制过来，只复制 <strong>colors</strong> 和 <strong>tokenColors</strong> 就可以了。</strong></p>
<hr>
<p>至于颜色的选取这里推荐几个网站，供大家参考：</p>
<ol>
<li><a href="http://jxnblk.com/colorable/demos/text/">Colorable</a></li>
<li><a href="http://colorsafe.co/">colorsafe</a></li>
<li><a href="https://color.adobe.com/zh/create">Adobe Color CC</a></li>
</ol>

        </div>

        
          <a class="animated fadeInUp p-2 items-center text-sm text-gray-700 border hover:bg-gray-300 leading-none rounded-full flex lg:inline-flex m-4 " href="https://hubingliang.github.io/tag/Front-end">
            <span class="flex-auto">Front-end</span>
          </a>
        
          <a class="animated fadeInUp p-2 items-center text-sm text-gray-700 border hover:bg-gray-300 leading-none rounded-full flex lg:inline-flex m-4 " href="https://hubingliang.github.io/tag/Library">
            <span class="flex-auto">Library</span>
          </a>
        


        <div class="flex justify-between py-8">
          
            <div class="prev-post">
              <a href="https://hubingliang.github.io/post/cache-strategy">
                <h3 class="post-title">
                  <i class="remixicon-arrow-left-line"></i>
                  缓存淘汰策略的三个代表
                </h3>
              </a>
            </div>
          

          
            <div class="next-post">
              <a href="https://hubingliang.github.io/post/type">
                <h3 class="post-title">
                  可能是最全的 Javascript 类型检查方案
                  <i class="remixicon-arrow-right-line"></i>
                </h3>
              </a>
            </div>
          
        </div>

        

      </div>
    </div>

    <script src="/media/prism.js"></script>  
<script>

Prism.highlightAll()

let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

// This should probably be throttled.
// Especially because it triggers during smooth scrolling.
// https://lodash.com/docs/4.17.10#throttle
// You could do like...
// window.addEventListener("scroll", () => {
//    _.throttle(doThatStuff, 100);
// });
// Only not doing it here to keep this Pen dependency-free.

window.addEventListener("scroll", event => {
  let fromTop = window.scrollY;

  mainNavLinks.forEach((link, index) => {
    let section = document.getElementById(decodeURI(link.hash).substring(1));
    let nextSection = null
    if (mainNavLinks[index + 1]) {
      nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
    }
    if (section.offsetTop <= fromTop) {
      if (nextSection) {
        if (nextSection.offsetTop > fromTop) {
          link.classList.add("current");
        } else {
          link.classList.remove("current");    
        }
      } else {
        link.classList.add("current");
      }
    } else {
      link.classList.remove("current");
    }
  });
});


document.addEventListener("DOMContentLoaded", function() {
  var lazyImages = [].slice.call(document.querySelectorAll(".post-feature-image.lazy"));

  if ("IntersectionObserver" in window) {
    let lazyImageObserver = new IntersectionObserver(function(entries, observer) {
      entries.forEach(function(entry) {
        if (entry.isIntersecting) {
          let lazyImage = entry.target
          lazyImage.style.backgroundImage = `url(${lazyImage.dataset.bg})`
          lazyImage.classList.remove("lazy")
          lazyImageObserver.unobserve(lazyImage)
        }
      });
    });

    lazyImages.forEach(function(lazyImage) {
      lazyImageObserver.observe(lazyImage)
    })
  } else {
    // Possibly fall back to a more compatible method here
  }
});

const menuContainer = document.querySelector('.menu-container')
const menus = document.querySelectorAll('.menu-container .menu')
const mask = document.querySelector('.mask')
const contentWrapper = document.querySelector('.content-wrapper')
const latestArticle = document.querySelector('.latest-article')
const readMore = document.querySelector('.read-more')
const indexPage = document.querySelector('.index-page')

const isHome = location.pathname === '/'
if (latestArticle) {
  latestArticle.style.display = isHome ? 'block' : 'none'
  readMore.style.display = isHome ? 'block' : 'none'
  indexPage.style.display = isHome ? 'none' : 'block'
}

const openMenu = () => {
  menuContainer.classList.add('open')
  menus.forEach(menu => {
    menu.classList.add('animated', 'fadeInLeft')
  })
  mask.classList.add('open')
  contentWrapper.classList.add('is-second')
}

const closeMenu = () => {
  menuContainer.classList.remove('open')
  menus.forEach(menu => {
    menu.classList.remove('animated', 'fadeInLeft')
  })
  mask.classList.remove('open')
  contentWrapper.classList.remove('is-second')
}
</script>
  
  </body>
</html>
