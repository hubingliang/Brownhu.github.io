<html>
  <head>
    <meta charset="utf-8" />
<meta name="description" content="" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title> 搞懂Z-index的所有细节 | Gridea</title>
<link rel="shortcut icon" href="https://hubingliang.github.io/favicon.ico?v=1562144679099">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://hubingliang.github.io/styles/main.css">

<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/moment.js/2.23.0/moment.min.js"></script>



  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://hubingliang.github.io">
  <img class="avatar" src="https://hubingliang.github.io/images/avatar.png?v=1562144679099" alt="">
  </a>
  <h1 class="site-title">
    Gridea
  </h1>
  <p class="site-description">
    Better late then never
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          首页
        </a>
      
    
      
        <a href="/archives" class="menu">
          归档
        </a>
      
    
      
        <a href="/tags" class="menu">
          标签
        </a>
      
    
      
        <a href="/post/about" class="menu">
          关于
        </a>
      
    
  </div>
  <div class="social-container">
    
      
        <a href="https://github.com/hubingliang" target="_blank">
          <i class="fab fa-github"></i>
        </a>
      
    
      
    
      
    
      
        <a href="https://www.zhihu.com/people/hu-bing-liang-97/activities" target="_blank">
          <i class="fab fa-zhihu"></i>
        </a>
      
    
      
    
  </div>
</div>


        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
               搞懂Z-index的所有细节
            </h2>
            <div class="post-info">
              <time class="post-time">
                · 2017-04-29 ·
              </time>
              
                <a href="https://hubingliang.github.io/tag/CSS" class="post-tag">
                  # CSS
                </a>
              
            </div>
            
              <div class="post-feature-image" style="background-image: url('https://hubingliang.github.io/post-images/z-index.jpeg')">
              </div>
            
            <div class="post-content">
              <p><img src="http://upload-images.jianshu.io/upload_images/4337988-72fc3279283f3d96.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="用Z-index来改变堆叠顺序"></p>
<p><a href="http://www.cssmojo.com/extras/everything_you_always_wanted_to_know_about_z-index_but_were_afraid_to_ask/">Z-index测试网站</a></p>
<h2 id="z-index-在什么情况下才生效">z-index 在什么情况下才生效？</h2>
<p>Z-index的运用是需要条件的,与其相关的属性就是position属性。我们以三个div来举例子。</p>
<ul>
<li>position: static;</li>
</ul>
<p>当三个div的position都为static时,我们把div(A)的Z-index设置为15, 把div(B)的Z-index设置为10,把div(C)的Z-index设置为5。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/4337988-dc45d7a26386344b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p><strong>发现div(B)依然把div(A)的一部分挡住了,所以当position为static时,Z-index起不到任何改变堆叠的作用。</strong></p>
<ul>
<li>position: relative/absolute/fixed;</li>
</ul>
<p>当三个div的position都为relative/absolute/fixed时,发现Z-index生效。
<img src="http://upload-images.jianshu.io/upload_images/4337988-b3b78915180bd5e3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p><strong>总结: 只有position的值为relative/absolute/fixed中的一个,Z-index才会生效。</strong></p>
<h2 id="z-index值越大元素越靠前对吗">z-index值越大元素越靠前，对吗？</h2>
<p>我们现在div(A)和div(B)中再分别创建一个小的div(c)和div(d)</p>
<p><img src="http://upload-images.jianshu.io/upload_images/4337988-8330fa3e640fe19e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="这一张图就是一个特例"></p>
<p>我们观察到,div(a)的Z-index为20 可是为什么还会被Z-index仅仅为10的div(B)遮挡住呢?
难道是因为Z-index继承给他的子元素了吗?不Z-index可是不继承给它的子元素的。
我们试试把biv(A)的Z-index设置成auto</p>
<p><img src="http://upload-images.jianshu.io/upload_images/4337988-e92ccbadb3ad1561.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>div(a)成功的遮挡住了Z-index比他小的元素。</p>
<p>再试试只把div(a)设置为auto</p>
<p><img src="http://upload-images.jianshu.io/upload_images/4337988-e4724db7e354c034.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Paste_Image.png"></p>
<h2 id="总结">总结:</h2>
<ol>
<li>当Z-index的值设置为auto时,不建立新的堆叠上下文,当前堆叠上下文中生成的div的堆叠级别与其父项的框相同。</li>
<li>当Z-index的值设置为一个整数时,该整数是当前堆叠上下文中生成的div的堆栈级别。该框还建立了其堆栈级别的本地堆叠上下文。这意味着后代的z-index不与此元素之外的元素的z-index进行比较。</li>
</ol>
<p>ps: 通俗讲就是,当一个div的Z-index为整数时,它的子元素和外界元素进行比较时,采用父元素的Z-index进行比较, 和兄弟元素比较采用自身的Z-index。当一个div的Z-index为auto时,如果它和它的兄弟进行比较,采用它父元素的Z-index。</p>
<h2 id="z-index-不设置和设置为0有什么区别">z-index 不设置和设置为0有什么区别?</h2>
<p>如果不设置Z-index那么默认值为auto,则不建立层叠上下文。设置为0则会脱离文档流,建立层叠上下文。
<img src="http://upload-images.jianshu.io/upload_images/4337988-da32ea3f63d9b3c2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="文档流Z轴"></p>

            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">下一篇</div>
            <a href="https://hubingliang.github.io/post/event-commision">
              <h3 class="post-title">
                使用原生 JS 实现事件委托
              </h3>
            </a>
          </div>
        

        

        <div class="site-footer">
  C'est la vie | 
  <a class="rss" href="https://hubingliang.github.io/atom.xml" target="_blank">RSS</a>
</div>

<script>
  hljs.initHighlightingOnLoad()
</script>

      </div>
    </div>
  </body>
</html>
